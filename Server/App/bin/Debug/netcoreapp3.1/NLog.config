<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <variable name="LogPath" value="${basedir}/../Logs/${shortdate}/Log-${var:appId}-${shortdate}-${level:upperCase=true}.log"/>
    <variable name="LogInfo" value="${longdate} ${var:appId} ${level:upperCase=true} ${callsite:className=false:methodName=false:fileName=true:includeSourcePath=false:skipFrames=2} ${message}"/>
    <!-- <default-target-parameters/> -->
    <targets>  
        <target 
                name="Console" 
                xsi:type="ColoredConsole" 
                useDefaultRowHighlightingRules="false"
                layout="${LogInfo}">
            <highlight-row condition="level == LogLevel.Debug" foregroundColor="DarkGreen"/>
            <highlight-row condition="level == LogLevel.Info" foregroundColor="Black"/>
            <highlight-row condition="level == LogLevel.Warn" foregroundColor="Yellow" />
            <highlight-row condition="level == LogLevel.Error" foregroundColor="DarkRed" />
            <highlight-row condition="level == LogLevel.Fatal" foregroundColor="Red"/>        
        </target>    
    <target
            xsi:type="File"
            name="File"            
            createDirs="true"
            keepFileOpen="true"
            openFileCacheTimeout="3600"
            openFileFlushTimeout="60"
            autoFlush="false"
            archiveAboveSize="204800"
            concurrentWrites="true"
            encoding="UTF-8"             
            fileName="${LogPath}"
            layout="${LogInfo}"/>
    </targets>
    <rules>
        <logger name="*" minlevel="Trace" writeTo="Console"/>
        <logger name="*" minlevel="Trace" writeTo="File"/>
    </rules>
</nlog>
